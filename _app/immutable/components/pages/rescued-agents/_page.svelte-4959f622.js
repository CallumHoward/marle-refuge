import{N as R,S as W,i as X,s as Y,k as S,a as q,l as k,m as E,c as C,h as m,n as L,b as A,H as h,f as N,d as J,t as O,O as Z,I as x,o as ee,q as g,r as y,u as w,e as H,g as K,P as Q,Q as $}from"../../../chunks/index-f1b6b65d.js";import{e as te,a as ae,d as le,u as ne}from"../../../chunks/username.store-b3cf57ec.js";function se(r){const e=r-1;return e*e*e+1}function U(r,{delay:e=0,duration:n=400,easing:t=R}={}){const o=+getComputedStyle(r).opacity;return{delay:e,duration:n,easing:t,css:l=>`opacity: ${l*o}`}}function V(r,{delay:e=0,duration:n=400,easing:t=se,x:o=0,y:l=0,opacity:f=0}={}){const a=getComputedStyle(r),c=+a.opacity,s=a.transform==="none"?"":a.transform,u=c*(1-f);return{delay:e,duration:n,easing:t,css:(i,d)=>`
			transform: ${s} translate(${(1-i)*o}px, ${(1-i)*l}px);
			opacity: ${c-u*d}`}}function j(r,e,n){const t=r.slice();return t[3]=e[n].agentId,t[4]=e[n].timestamp,t[5]=e[n].userName,t[7]=n,t}function z(r){let e,n=r[0].length+"",t,o,l,f;return{c(){e=S("p"),t=g(n),o=g(" of my siblings have been saved. Thank you so much, "),l=g(r[1]),f=g("."),this.h()},l(a){e=k(a,"P",{class:!0});var c=E(e);t=y(c,n),o=y(c," of my siblings have been saved. Thank you so much, "),l=y(c,r[1]),f=y(c,"."),c.forEach(m),this.h()},h(){L(e,"class","text-2xl mb-4")},m(a,c){A(a,e,c),h(e,t),h(e,o),h(e,l),h(e,f)},p(a,c){c&1&&n!==(n=a[0].length+"")&&w(t,n),c&2&&w(l,a[1])},d(a){a&&m(e)}}}function F(r){let e,n,t=r[3]+"",o,l,f=new Date(r[4]).toISOString().slice(0,10)+"",a,c,s,u,i,d,D,b,M,v,I;return{c(){e=S("li"),n=S("span"),o=g(t),l=g(" rescued on "),a=g(f),c=q(),s=S("span"),u=g("status ..."),i=q(),d=S("span"),D=g("online"),M=q(),this.h()},l(_){e=k(_,"LI",{class:!0});var p=E(e);n=k(p,"SPAN",{});var P=E(n);o=y(P,t),l=y(P," rescued on "),a=y(P,f),P.forEach(m),c=C(p),s=k(p,"SPAN",{});var T=E(s);u=y(T,"status ..."),T.forEach(m),i=C(p),d=k(p,"SPAN",{});var B=E(d);D=y(B,"online"),B.forEach(m),M=C(p),p.forEach(m),this.h()},h(){L(e,"class","text-2xl")},m(_,p){A(_,e,p),h(e,n),h(n,o),h(n,l),h(n,a),h(e,c),h(e,s),h(s,u),h(e,i),h(e,d),h(d,D),h(e,M),I=!0},p(_,p){r=_,(!I||p&1)&&t!==(t=r[3]+"")&&w(o,t),(!I||p&1)&&f!==(f=new Date(r[4]).toISOString().slice(0,10)+"")&&w(a,f)},i(_){I||(Q(()=>{b||(b=$(d,U,{delay:Math.random()*4e3+r[0].length*500,duration:300},!0)),b.run(1)}),Q(()=>{v||(v=$(e,V,{delay:(r[7]+1)*500,duration:300,y:10},!0)),v.run(1)}),I=!0)},o(_){b||(b=$(d,U,{delay:Math.random()*4e3+r[0].length*500,duration:300},!1)),b.run(0),v||(v=$(e,V,{delay:(r[7]+1)*500,duration:300,y:10},!1)),v.run(0),I=!1},d(_){_&&m(e),_&&b&&b.end(),_&&v&&v.end()}}}function G(r){let e,n,t=r[5]&&F(r);return{c(){t&&t.c(),e=H()},l(o){t&&t.l(o),e=H()},m(o,l){t&&t.m(o,l),A(o,e,l),n=!0},p(o,l){o[5]?t?(t.p(o,l),l&1&&N(t,1)):(t=F(o),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(K(),O(t,1,1,()=>{t=null}),J())},i(o){n||(N(t),n=!0)},o(o){O(t),n=!1},d(o){t&&t.d(o),o&&m(e)}}}function oe(r){let e,n,t,o,l=r[1]&&z(r),f=r[0],a=[];for(let s=0;s<f.length;s+=1)a[s]=G(j(r,f,s));const c=s=>O(a[s],1,1,()=>{a[s]=null});return{c(){e=S("div"),l&&l.c(),n=q(),t=S("ul");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var u=E(e);l&&l.l(u),n=C(u),t=k(u,"UL",{});var i=E(t);for(let d=0;d<a.length;d+=1)a[d].l(i);i.forEach(m),u.forEach(m),this.h()},h(){L(e,"class","p-10")},m(s,u){A(s,e,u),l&&l.m(e,null),h(e,n),h(e,t);for(let i=0;i<a.length;i+=1)a[i].m(t,null);o=!0},p(s,[u]){if(s[1]?l?l.p(s,u):(l=z(s),l.c(),l.m(e,n)):l&&(l.d(1),l=null),u&1){f=s[0];let i;for(i=0;i<f.length;i+=1){const d=j(s,f,i);a[i]?(a[i].p(d,u),N(a[i],1)):(a[i]=G(d),a[i].c(),N(a[i],1),a[i].m(t,null))}for(K(),i=f.length;i<a.length;i+=1)c(i);J()}},i(s){if(!o){for(let u=0;u<f.length;u+=1)N(a[u]);o=!0}},o(s){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)O(a[u]);o=!1},d(s){s&&m(e),l&&l.d(),Z(a,s)}}}function re(r,e,n){let t;x(r,ne,f=>n(1,t=f));const o=te(le,"refugees");let l=[];return ee(async()=>{(await ae(o)).forEach(a=>l.push(a.data())),n(0,l)}),[l,t]}class fe extends W{constructor(e){super(),X(this,e,re,oe,Y,{})}}export{fe as default};
